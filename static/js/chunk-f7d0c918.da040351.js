(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7d0c918"],{6530:function(e,t,r){"use strict";r("d0ec")},"7ee1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home farmContent"},[e._m(0),r("div",{staticClass:"farm-title centerText"},[e._v(" "+e._s(e.$t("Stake"))+" "+e._s(e.farm.stake)+" "+e._s(e.$t("Earn"))+" "+e._s(e.farm.earn)+" ")]),r("div",{staticClass:"farmWithdraw"},[r("div",{staticClass:"farmWithdrawContent"},[r("span",{staticClass:"farmWithdrawContentRow"},[e._v(" "+e._s(e.$t("Vesting"))+" ")]),r("span",{staticClass:"farmWithdrawContentRow num"},[e._v(" "+e._s(e.vesting)+" "+e._s(e.farm.earn)+" ")]),r("span",{staticClass:"farmWithdrawContentRow"},[e._v(" "+e._s(e.$t("Withdrawable"))+" ")]),r("span",{staticClass:"farmWithdrawContentRow num"},[e._v(" "+e._s(e.withdrawable)+" "+e._s(e.farm.earn)+" ")])]),r("div",{staticClass:"centerText",class:e.withdrawBtnClass,on:{click:e.withdraw}},[e._v(e._s(e.$t("Withdraw")))])]),r("div",{staticClass:"farmAddOrRemove"},[r("div",{staticClass:"farmAddOrRemoveRow"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNum,expression:"confirmNum"}],staticClass:"input",attrs:{type:"number",placeholder:"0"},domProps:{value:e.confirmNum},on:{input:function(t){t.target.composing||(e.confirmNum=t.target.value)}}}),r("img",{attrs:{src:e.farm.stakeIcon}}),r("div",{staticClass:"coinName"},[r("span",[e._v(e._s(e.farm.stake))])])]),r("div",{staticClass:"farmAddOrRemoveRow"},[r("span",[e._v(e._s(e.$t("Balance"))+": "+e._s(e.balance))]),r("div",{staticClass:"max",on:{click:e.max}},[e._v(e._s(e.$t("Max")))])]),r("div",{staticClass:"farmAddOrRemoveRow"},[r("div",{class:e.addclass,on:{click:e.add}},[r("div",{staticClass:"centerText"},[e._v(e._s(e.$t("Add")))])]),r("div",{class:e.removeclass,on:{click:e.remove}},[r("div",{staticClass:"centerText"},[e._v(e._s(e.$t("Remove")))])])]),r("div",{staticClass:"farmConfirm centerText",on:{click:function(t){"Approve"==e.farmConfirm?e.approve():e.staking()}}},[e._v(e._s(e.$t(e.farmConfirm))+" ")]),r("div",{staticClass:"flex justify-center p"},[e._v("Deposit fee: 6%, Withdrawal fee: 0%")])]),r("div",{staticClass:"farmstatistics"},[r("div",{staticClass:"farmstatisticsRow"},[r("div",{staticClass:"farmstatisticsTitle"},[r("span",[e._v(e._s(e.$t("APR")))])]),r("div",{staticClass:"farmstatisticsContent"},[r("span",[e._v(e._s(e.apr)+" %")])])]),r("div",{staticClass:"farmstatisticsRow"},[r("div",{staticClass:"farmstatisticsTitle"},[r("span",[e._v(e._s(e.$t("Liquidity")))])]),r("div",{staticClass:"farmstatisticsContent"},[r("span",[e._v(e._s(e.liquidity)+" "+e._s(e.farm.stake))])])])]),r("p",[e._v(e._s(e.$t("poolruler",["60","3"])))])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("img",{staticClass:"titleImg",attrs:{src:r("b1fe"),alt:""}})])}],s=r("1da1"),c=(r("d3b7"),r("25f0"),r("a9e3"),r("96cf"),r("d399")),i=r("b775"),o=r("a232"),u=r("84d7"),d=r("901e");d.config({POW_PRECISION:100,EXPONENTIAL_AT:[-20,80]});var l={data:function(){return{network:"bsc",addclass:"selected",removeclass:"noselected margin-left-4",contractAddress:null,routerContact:null,airdropList:[],farm:this.$config.project.farms["bsc"],farmContract:null,stakeTokenContract:null,liquidity:0,vesting:0,withdrawable:0,withdrawBtnClass:"farmWithdrawBtn",apr:0,balance:0,confirmNum:0,farmConfirm:"Approve"}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.network=e.$route.query.network,e.farm=e.$config.project.pools[e.network][e.$route.query.index],e.contractAddress=e.farm.contractAddress,e.getfarmUserData(e.contractAddress);case 4:case"end":return t.stop()}}),t)})))()},methods:{getfarmUserData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.farmContract=new t.$web3Obj.web3.eth.Contract(t.$config.abi[t.farm.contractType],e),t.routerContact=new t.$web3Obj.web3.eth.Contract(t.$config.abi.router,t.$config.project.network[t.network].router),r.next=4,t.farmContract.methods.getUserInfo(t.$web3Obj.currentAddress).call();case 4:return a=r.sent,r.next=7,t.farmContract.methods.overview().call();case 7:return n=r.sent,t.vesting=a._currentPending,t.vesting=Object(o["transformationNumber"])(t.vesting),t.withdrawable=a._rewardWithdrawable,t.withdrawable=Object(o["transformationNumber"])(t.withdrawable),t.withdrawable>0&&(t.withdrawBtnClass="farmWithdrawBtnSelected"),t.liquidity=Object(o["transformationNumber"])(n._currentStaked),r.next=16,t.getApr(n,t.farm);case 16:return t.apr=r.sent,t.stakeTokenContract=new t.$web3Obj.web3.eth.Contract(t.$config.abi.token,n._stakeToken),r.next=20,t.updateBalance();case 20:t.getAllow();case 21:case"end":return r.stop()}}),r)})))()},getAllow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.stakeTokenContract.methods.allowance(e.$web3Obj.currentAddress,e.contractAddress).call();case 2:r=t.sent,r>e.balance*Math.pow(10,18)&&(e.farmConfirm="Confirm");case 4:case"end":return t.stop()}}),t)})))()},getApr:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!==t.status&&0!=e._currentStaked){a.next=2;break}return a.abrupt("return",0);case 2:return a.next=4,Object(u["getUSDTValue"])(t.path,r.$config.project.network[r.$route.query.network].router);case 4:return n=a.sent,n=Object(o["divs"])(2,100*e._rewardPerBlock*365*24*60*60/3.2,Object(o["transformationNumber"])(e._currentStaked,18,t.stakeDecimals),n),a.abrupt("return",n);case 7:case"end":return a.stop()}}),a)})))()},withdraw:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.withdrawable){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,i["a"].contractSend(e.farmContract.methods.withdrawInterest().send({from:e.$web3Obj.currentAddress,value:0}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),Object(c["a"])("Withdrawable : fail");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},updateBalance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.balance=0,"selected"!=e.addclass){t.next=7;break}return t.next=4,e.stakeTokenContract.methods.balanceOf(e.$web3Obj.currentAddress).call();case 4:r=t.sent,t.next=11;break;case 7:return t.next=9,e.farmContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 9:a=t.sent,r=a._currentStaked;case 11:e.balance=Object(o["transformationNumber"])(r,18);case 12:case"end":return t.stop()}}),t)})))()},add:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmNum=0,e.addclass="selected",e.removeclass="noselected margin-left-4",e.updateBalance();case 4:case"end":return t.stop()}}),t)})))()},remove:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmNum=0,e.addclass="noselected",e.removeclass="selected margin-left-4",e.updateBalance();case 4:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.contractAddress,new d(10).pow(40)),t.next=4,i["a"].contractSend(e.stakeTokenContract.methods.approve(e.contractAddress,new d(10).pow(40).toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(c["a"])("stake token approve : fail");case 9:e.getAllow();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},staking:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.confirmNum<=0)){t.next=5;break}return r="add : 0","selected"!=e.addclass&&(r="remove : 0"),Object(c["a"])(r),t.abrupt("return");case 5:if(t.prev=5,!(Number(e.confirmNum)>Number(e.balance))){t.next=9;break}return Object(c["a"])("no enough balance"),t.abrupt("return");case 9:if(a=new d(e.confirmNum).multipliedBy(new d(10).pow(18)),"selected"!=e.addclass){t.next=13;break}return t.next=13,i["a"].contractSend(e.farmContract.methods.stake(a.toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 13:if("selected"==e.addclass){t.next=16;break}return t.next=16,i["a"].contractSend(e.farmContract.methods.withdraw(a.toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 16:e.getfarmUserData(e.contractAddress),t.next=25;break;case 19:t.prev=19,t.t0=t["catch"](5),console.error(t.t0),n="add : fail","selected"!=e.addclass&&(n="remove : fail"),Object(c["a"])(n);case 25:case"end":return t.stop()}}),t,null,[[5,19]])})))()},stake:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i["a"].contractSend(t.farmContract.methods.stake(e.toString()).send({from:t.$web3Obj.currentAddress,value:0}));case 2:case"end":return r.stop()}}),r)})))()},max:function(){0!=this.balance&&(this.confirmNum=this.balance)}}},m=l,f=(r("6530"),r("2877")),w=Object(f["a"])(m,a,n,!1,null,"1016fece",null);t["default"]=w.exports},b1fe:function(e,t,r){e.exports=r.p+"static/img/farms.a462518b.png"},d0ec:function(e,t,r){}}]);