(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cfbfaa3"],{"01d5":function(e,t,a){},"05b1":function(e,t,a){e.exports=a.p+"static/img/pool.9389a4a1.png"},6841:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("0a85"),a("7049"),a("3226"),a("03a2"),a("445b"),a("9de9"),a("dadc"),a("61c0");var r=a("4318"),n=a.n(r);n.a.set({precision:100,toExpPos:60,toExpNeg:-20});var s=function(e){e=new Date(Number(e));var t=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),n=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();e.getSeconds(),e.getSeconds();return t+"/"+a+"/"+r+"    "+n+s}},b73b:function(e,t,a){"use strict";a("01d5")},f054:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home poolContent home70"},[e._m(0),a("div",{staticClass:"pool-title centerText"},[e._v(" "+e._s(e.$t("Stake"))+" "+e._s(e.pool.stake)+" "+e._s(e.$t("Earn"))+" "+e._s(e.pool.earn)+" "+e._s(e.pool.projectName?"("+e.$t(e.pool.projectName)+")":"")+" ")]),a("div",{staticClass:"bigcontent"},[a("div",{staticClass:"poolWithdraw contentleft1"},[a("div",{staticClass:"poolWithdrawContent"},[a("span",{staticClass:"poolWithdrawContentRow"},[e._v(" "+e._s(e.$t("Vesting"))+" ")]),a("span",{staticClass:"poolWithdrawContentRow num"},[e._v(" "+e._s(e.vesting)+" "+e._s(e.pool.earn)+" ")]),a("span",{staticClass:"poolWithdrawContentRow"},[e._v(" "+e._s(e.$t("Withdrawable"))+" ")]),a("span",{staticClass:"poolWithdrawContentRow num"},[e._v(" "+e._s(e.withdrawable)+" "+e._s(e.pool.earn)+" ")])]),a("div",{staticClass:"centerText",class:e.withdrawBtnClass,on:{click:e.withdraw}},[e._v(e._s(e.$t("Withdraw")))])]),a("div",{staticClass:"poolAddOrRemove contentRight"},[a("div",{staticClass:"poolAddOrRemoveRow"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNum,expression:"confirmNum"}],staticClass:"input",attrs:{type:"number",placeholder:"0"},domProps:{value:e.confirmNum},on:{input:function(t){t.target.composing||(e.confirmNum=t.target.value)}}}),a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.pool.stakeIcon}}),a("div",{staticClass:"coinName"},[a("span",[e._v(e._s(e.pool.stake))])])]),a("div",{staticClass:"poolAddOrRemoveRow"},[a("span",[e._v(e._s(e.$t("Balance"))+": "+e._s(e.balance))]),a("div",{staticClass:"max",on:{click:e.max}},[e._v(e._s(e.$t("Max")))])]),a("div",{staticClass:"poolAddOrRemoveRow"},[a("div",{class:e.addclass,on:{click:e.add}},[a("div",{staticClass:"centerText"},[e._v(e._s(e.$t("Add")))])]),a("div",{class:e.removeclass,on:{click:e.remove}},[a("div",{staticClass:"centerText"},[e._v(" "+e._s("0xDd07987F56695DD1A685CA5D15f6F9a4863af048"===e.contractAddress?e.$t("removeall"):e.$t("Remove"))+" ")])])]),a("div",{staticClass:"poolConfirm centerText",on:{click:function(t){"Approve"==e.poolConfirm?e.approve():e.staking()}}},[e._v(e._s(e.$t(e.poolConfirm))+" ")]),a("div",{staticClass:"flex justify-center p"},[e._v("Deposit fee: 0%, Withdrawal fee: 0%")])]),a("div",{staticClass:"poolStatistics contentleft2"},[a("div",{staticClass:"poolStatisticsRow"},[a("div",{staticClass:"poolStatisticsTitle"},[a("span",[e._v(e._s(e.$t("APR")))])]),a("div",{staticClass:"poolStatisticsContent"},[a("span",[e._v(e._s(e.apr)+" %")])])]),a("div",{staticClass:"poolStatisticsRow"},[a("div",{staticClass:"poolStatisticsTitle"},[a("span",[e._v(e._s(e.$t("Liquidity")))])]),a("div",{staticClass:"poolStatisticsContent"},[a("span",[e._v(e._s(e.liquidity)+" "+e._s(e.pool.stake))])])])]),e.penalty?a("div",[a("span",{staticClass:"span"},[e._v(e._s(e.$t("penaltyRuler1",[e.overview._lockNum?e.overview._lockNum:e.pool.days?e.pool.days:"60",e.overview._lockTime?e.overview._lockTime/3600:e.pool.time?e.pool.time:"3",e.penalty.penaltyTime])))]),e.showMore?e._e():a("span",{staticClass:"span",staticStyle:{color:"white"},on:{click:function(t){e.showMore=!e.showMore}}},[e._v("More...")]),e.showMore?a("p",[e._v(" "+e._s(e.$t("penaltyRuler2",[e.penalty.penaltyRate])))]):e._e()]):a("p",[e._v(e._s(e.$t("poolruler",[e.overview._lockNum?e.overview._lockNum:e.pool.days?e.pool.days:"60",e.overview._lockTime?e.overview._lockTime/24/3600:e.pool.time?e.pool.time:"3"])))])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"header"},[r("img",{staticClass:"titleImg",attrs:{src:a("05b1"),alt:""}})])}],s=a("1da1"),o=(a("a9e3"),a("d3b7"),a("25f0"),a("96cf"),a("d399")),c=a("b775"),i=a("a232"),l=a("84d7"),u=a("6841"),d=a("901e");d.config({POW_PRECISION:100,EXPONENTIAL_AT:[-20,80]});var p={data:function(){return{showMore:!1,network:"bsc",addclass:"selected",removeclass:"noselected margin-left-4",contractAddress:null,airdropList:[],pool:null,poolContract:null,stakeTokenContract:null,liquidity:0,vesting:0,withdrawable:0,withdrawBtnClass:"poolWithdrawBtn",apr:0,balance:0,confirmNum:0,poolConfirm:"Approve",overview:{},penalty:null}},created:function(){this.network=this.$route.query.network,this.pool=this.$config.project.pools[this.network][this.$route.query.index],this.contractAddress=this.pool.contractAddress,this.getPoolUserData(this.contractAddress)},methods:{getPoolUserData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.poolContract=new t.$web3Obj.web3.eth.Contract(t.$config.abi[t.pool.contractType],e),t.getPentyDate(),a.next=4,t.poolContract.methods.getUserInfo(t.$web3Obj.currentAddress).call();case 4:return r=a.sent,a.next=7,t.poolContract.methods.overview().call();case 7:return t.overview=a.sent,t.vesting=r._currentPending,t.vesting=Object(i["transformationNumber"])(t.vesting),t.withdrawable=r._rewardWithdrawable,t.withdrawable=Object(i["transformationNumber"])(t.withdrawable),t.withdrawable>0&&(t.withdrawBtnClass="poolWithdrawBtnSelected"),t.liquidity=Object(i["transformationNumber"])(t.overview._currentStaked,4,t.pool.stakeDecimals?t.pool.stakeDecimals:18),a.next=16,t.getApr(t.overview,t.pool);case 16:return t.apr=a.sent,t.stakeTokenContract=new t.$web3Obj.web3.eth.Contract(t.$config.abi.token,t.overview._stakeToken),a.next=20,t.updateBalance();case 20:t.getAllow();case 21:case"end":return a.stop()}}),a)})))()},getPentyDate:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.poolContract.methods.getPenaltyConfig().call();case 3:a=t.sent,e.penalty={},e.penalty.penaltyRate=100*Object(i["transformationNumber"])(a._penaltyRate,6,6),e.penalty.penaltyTime=Object(u["a"])(1e3*a._penaltyEndTime),console.log(a),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),console.log("no penalty");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getAllow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.stakeTokenContract.methods.allowance(e.$web3Obj.currentAddress,e.contractAddress).call();case 2:a=t.sent,Number(a)>e.balance*Math.pow(10,e.pool.stakeDecimals?e.pool.stakeDecimals:18)?e.poolConfirm="Confirm":e.poolConfirm="Approve";case 4:case"end":return t.stop()}}),t)})))()},getApr:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(1!==t.status&&0!=e._currentStaked){r.next=2;break}return r.abrupt("return",0);case 2:return r.next=4,Object(l["getUSDTValue"])(t.path,a.$config.project.network[a.$route.query.network].router);case 4:return n=r.sent,n=Object(i["divs"])(2,100*e._rewardPerBlock*365*24*60*60/3.2,Object(i["transformationNumber"])(e._currentStaked,18,t.stakeDecimals),n),r.abrupt("return",n);case 7:case"end":return r.stop()}}),r)})))()},withdraw:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.withdrawable){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,c["a"].contractSend(e.poolContract.methods.withdraw().send({from:e.$web3Obj.currentAddress,value:0}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),Object(o["a"])("Withdrawable : fail");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},add:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmNum=0,e.addclass="selected",e.removeclass="noselected margin-left-4",e.updateBalance();case 4:case"end":return t.stop()}}),t)})))()},remove:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.confirmNum=0,e.addclass="noselected",e.removeclass="selected margin-left-4",t.next=5,e.updateBalance();case 5:"0xDd07987F56695DD1A685CA5D15f6F9a4863af048"===e.contractAddress&&(e.confirmNum=e.balance,e.poolConfirm="Confirm");case 6:case"end":return t.stop()}}),t)})))()},updateBalance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.balance=0,"selected"!=e.addclass){t.next=7;break}return t.next=4,e.stakeTokenContract.methods.balanceOf(e.$web3Obj.currentAddress).call();case 4:a=t.sent,t.next=11;break;case 7:return t.next=9,e.poolContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 9:r=t.sent,a=r._currentStaked;case 11:e.balance=Object(i["transformationNumber"])(a,18,e.pool.stakeDecimals?e.pool.stakeDecimals:18);case 12:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.contractAddress,new d(10).pow(40)),t.next=4,c["a"].contractSend(e.stakeTokenContract.methods.approve(e.contractAddress,new d(10).pow(40).toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(o["a"])("stake token approve : fail");case 9:e.getAllow();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},staking:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("selected"!=e.addclass||1!=e.pool.status){t.next=3;break}return Object(o["a"])("this contract has paused!"),t.abrupt("return");case 3:if(!(e.confirmNum<=0)){t.next=8;break}return a="add : 0","selected"!=e.addclass&&(a="remove : 0"),Object(o["a"])(a),t.abrupt("return");case 8:if(!(Number(e.confirmNum)>Number(e.balance))){t.next=11;break}return Object(o["a"])("no enough balance"),t.abrupt("return");case 11:return t.prev=11,r=new d(e.confirmNum).multipliedBy(new d(10).pow(e.pool.stakeDecimals?e.pool.stakeDecimals:18)),t.next=15,e.poolContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 15:return n=t.sent,s=n&&0!=n._currentStaked?new d(n._currentStaked):new d(0),"selected"==e.addclass&&(r=s.plus(r)),"selected"!=e.addclass&&(r=s.minus(r)),"0xDd07987F56695DD1A685CA5D15f6F9a4863af048"===e.contractAddress&&(r="0"),t.next=22,c["a"].contractSend(e.poolContract.methods.stake(r.toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 22:e.getPoolUserData(e.contractAddress),t.next=31;break;case 25:t.prev=25,t.t0=t["catch"](11),console.error(t.t0),i="add : fail","selected"!=e.addclass&&(i="remove : fail"),Object(o["a"])(i);case 31:case"end":return t.stop()}}),t,null,[[11,25]])})))()},max:function(){0!=this.balance&&(this.confirmNum=this.balance)}},watch:{confirmNum:function(e,t){"selected"==this.addclass&&this.getAllow()}}},m=p,v=(a("b73b"),a("2877")),w=Object(v["a"])(m,r,n,!1,null,"7b175226",null);t["default"]=w.exports}}]);