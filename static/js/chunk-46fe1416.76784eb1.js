(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46fe1416"],{"64af":function(e,t,r){"use strict";r("b7d1b")},a94f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home farmContent home70"},[e._m(0),r("div",{staticClass:"farm-title centerText"},[e._v(" "+e._s(e.$t("Stake"))+" "+e._s(e.farm.stake)+" "+e._s(e.$t("Earn"))+" "+e._s(e.farm.earn)+" ")]),r("div",{staticClass:"bigcontent"},[r("div",{staticClass:"farmWithdraw contentleft1"},[r("div",{staticClass:"farmWithdrawContent"},[r("span",{staticClass:"farmWithdrawContentRow"},[e._v(" "+e._s(e.$t("Vesting"))+" ")]),r("span",{staticClass:"farmWithdrawContentRow num"},[e._v(" "+e._s(e._f("transformationNumber")(e.userInfo._currentPending))+" "+e._s(e.farm.earn)+" ")]),r("span",{staticClass:"farmWithdrawContentRow"},[e._v(" "+e._s(e.$t("Withdrawable"))+" ")]),r("span",{staticClass:"farmWithdrawContentRow num"},[e._v(" "+e._s(e._f("transformationNumber")(e.userInfo._rewardWithdrawable))+" "+e._s(e.farm.earn)+" ")])]),r("div",{staticClass:"centerText",class:e.withdrawBtnClass,on:{click:e.withdrawInterest}},[e._v(e._s(e.$t("Withdraw")))])]),r("div",{staticClass:"farmAddOrRemove contentRight"},[r("div",{staticClass:"farmAddOrRemoveRow"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNum,expression:"confirmNum"}],staticClass:"input",attrs:{type:"number",placeholder:"0"},domProps:{value:e.confirmNum},on:{input:function(t){t.target.composing||(e.confirmNum=t.target.value)}}}),r("img",{attrs:{src:e.farm.stakeIcon}}),r("div",{staticClass:"coinName"},[r("span",[e._v(e._s(e.farm.stake))])])]),r("div",{staticClass:"farmAddOrRemoveRow"},[r("span",[e._v(e._s(e.$t("Balance"))+": "+e._s(e.balance))]),r("div",{staticClass:"max",on:{click:e.max}},[e._v(e._s(e.$t("Max")))])]),r("div",{staticClass:"farmAddOrRemoveRow"},[r("div",{class:e.addclass,on:{click:e.add}},[r("div",{staticClass:"centerText"},[e._v(e._s(e.$t("Add")))])]),r("div",{class:e.removeclass,on:{click:e.remove}},[r("div",{staticClass:"centerText"},[e._v(e._s(e.$t("Remove")))])])]),r("div",{staticClass:"farmConfirm centerText",on:{click:function(t){"Approve"==e.farmConfirm?e.approve():e.staking()}}},[e._v(e._s(e.$t(e.farmConfirm))+" ")]),r("div",{staticClass:"flex justify-center p"},[e._v("Deposit fee: 0%, Withdrawal fee: 0%")])]),r("div",{staticClass:"farmstatistics contentleft2"},[r("div",{staticClass:"farmstatisticsRow"},[r("div",{staticClass:"farmstatisticsTitle"},[r("span",[e._v(e._s(e.$t("APR")))])]),r("div",{staticClass:"farmstatisticsContent"},[r("span",[e._v(e._s(e.apr)+" %")])])]),r("div",{staticClass:"farmstatisticsRow"},[r("div",{staticClass:"farmstatisticsTitle"},[r("span",[e._v(e._s(e.$t("Liquidity")))])]),r("div",{staticClass:"farmstatisticsContent"},[r("span",[e._v(e._s(e._f("transformationNumber")(e.liquidity))+e._s(e.farm.stake))])])])]),r("p",[e._v(" "+e._s(e.$t("poolruler",["60","3"]))+" ")])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("img",{staticClass:"titleImg",attrs:{src:r("b1fe"),alt:""}})])}],s=r("1da1"),c=(r("d3b7"),r("25f0"),r("a9e3"),r("96cf"),r("d399")),i=r("b775"),o=r("a232"),u=r("2b0e"),d=r("7278"),m=r("84d7");u["a"].use(d["a"]);var l=r("901e");l.config({POW_PRECISION:100,EXPONENTIAL_AT:[-20,80]});var f={data:function(){return{showTokenDec:!1,showPopover:!1,addclass:"selected",removeclass:"noselected margin-left-4",airdropList:[],farm:null,farmContract:null,stakeTokenContract:null,liquidity:0,withdrawBtnClass:"farmWithdrawBtn",apr:0,balance:0,confirmNum:0,farmConfirm:"Approve",userInfo:{},estimateSwap:{},estimateLPSwap:{}}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$route.query.network,e.farm=e.$config.project.pools[r][e.$route.query.index],e.farmContract=new e.$web3Obj.web3.eth.Contract(e.$config.abi[e.farm.contractType],e.farm.contractAddress),e.routerContact=new e.$web3Obj.web3.eth.Contract(e.$config.abi.router,e.$config.project.network[r].router),e.getfarmUserData();case 5:case"end":return t.stop()}}),t)})))()},methods:{getfarmUserData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.farmContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 2:return e.userInfo=t.sent,t.next=5,e.farmContract.methods.overview().call();case 5:return r=t.sent,e.userInfo._rewardWithdrawable>0&&(e.withdrawBtnClass="farmWithdrawBtnSelected"),t.next=9,e.farmContract.methods.vault().call();case 9:return a=t.sent,t.next=12,new e.$web3Obj.web3.eth.Contract(e.$config.abi.vaultV6,a);case 12:return e.vaultTokenContract=t.sent,t.next=15,e.vaultTokenContract.methods.balance().call();case 15:return e.liquidity=t.sent,e.stakeTokenContract=new e.$web3Obj.web3.eth.Contract(e.$config.abi.token,r._stakeToken),t.next=19,e.getApr(r,e.farm);case 19:return e.apr=t.sent,t.next=22,e.updateBalance();case 22:e.getAllow();case 23:case"end":return t.stop()}}),t)})))()},updateBalance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.balance=0,"selected"!=e.addclass){t.next=7;break}return t.next=4,e.stakeTokenContract.methods.balanceOf(e.$web3Obj.currentAddress).call();case 4:r=t.sent,t.next=11;break;case 7:return t.next=9,e.farmContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 9:a=t.sent,r=a._currentStaked;case 11:e.balance=Object(o["transformationNumber"])(r,18);case 12:case"end":return t.stop()}}),t)})))()},getAllow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.farmConfirm="Approve",t.next=3,e.stakeTokenContract.methods.allowance(e.$web3Obj.currentAddress,e.farm.contractAddress).call();case 3:r=t.sent,r>1e12*Math.pow(10,18)&&(e.farmConfirm="Confirm");case 5:case"end":return t.stop()}}),t)})))()},getApr:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!==t.status&&0!=e._currentStaked){a.next=2;break}return a.abrupt("return",0);case 2:return a.next=4,Object(m["getUSDTValue"])(t.path,r.$config.project.network[r.$route.query.network].router);case 4:return n=a.sent,n=Object(o["divs"])(2,100*e._rewardPerBlock*365*24*60*60/3.2,Object(o["transformationNumber"])(e._currentStaked,18,t.stakeDecimals),n),a.abrupt("return",n);case 7:case"end":return a.stop()}}),a)})))()},withdrawInterest:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.userInfo._rewardWithdrawable){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,i["a"].contractSend(e.farmContract.methods.withdrawInterest().send({from:e.$web3Obj.currentAddress,value:0}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),Object(c["a"])("Withdrawable : fail");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},add:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmNum=0,e.addclass="selected",e.removeclass="noselected margin-left-4",e.updateBalance();case 4:case"end":return t.stop()}}),t)})))()},remove:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmNum=0,e.addclass="noselected",e.removeclass="selected margin-left-4",e.updateBalance();case 4:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].contractSend(e.stakeTokenContract.methods.approve(e.farm.contractAddress,new l(10).pow(40).toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),Object(c["a"])("stake token approve : fail");case 8:e.getAllow();case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()},staking:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.confirmNum<=0)){t.next=5;break}return r="add : 0","selected"!=e.addclass&&(r="remove : 0"),Object(c["a"])(r),t.abrupt("return");case 5:if(t.prev=5,!(Number(e.confirmNum)>Number(e.balance))){t.next=9;break}return Object(c["a"])("no enough balance"),t.abrupt("return");case 9:if(a=Object(o["transformationNumber18"])(e.confirmNum),"selected"!=e.addclass){t.next=15;break}return t.next=13,e.deposit(a.toString());case 13:t.next=17;break;case 15:return t.next=17,e.withdraw(a.toString());case 17:e.getfarmUserData(e.farm.contractAddress),t.next=26;break;case 20:t.prev=20,t.t0=t["catch"](5),console.error(t.t0),n="add : fail","selected"!=e.addclass&&(n="remove : fail"),Object(c["a"])(n);case 26:case"end":return t.stop()}}),t,null,[[5,20]])})))()},max:function(){0!=this.balance&&(this.confirmNum=this.balance)},deposit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e,r.next=3,i["a"].contractSend(t.farmContract.methods.stake(a,t.stakeTokenContract._address,e).send({from:t.$web3Obj.currentAddress,value:0}));case 3:case"end":return r.stop()}}),r)})))()},withdraw:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e,r.next=3,i["a"].contractSend(t.farmContract.methods.withdraw(e,t.stakeTokenContract._address,a).send({from:t.$web3Obj.currentAddress,value:0}));case 3:case"end":return r.stop()}}),r)})))()}}},w=f,v=(r("64af"),r("2877")),p=Object(v["a"])(w,a,n,!1,null,"0e002ec7",null);t["default"]=p.exports},b1fe:function(e,t,r){e.exports=r.p+"static/img/farms.a462518b.png"},b7d1b:function(e,t,r){}}]);